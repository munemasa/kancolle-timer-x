<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>NicoLive Helper X</title>

  <link rel="stylesheet" href="../libs/external/bootstrap/bootstrap.css">
  <link rel="stylesheet" href="../libs/external/jquery-ui/jquery-ui.min.css">
  <link rel="stylesheet" href="../libs/external/jquery.contextMenu.css">
  <script src="../libs/external/jquery-3.2.1.min.js"></script>
  <script src="../libs/external/jquery-ui/jquery-ui.min.js"></script>
  <script src="../libs/external/jquery.contextMenu.js"></script>
  <script src="../libs/external/popper.js"></script>
  <script src="../libs/external/bootstrap/bootstrap.js"></script>
  <link rel="stylesheet" href="../libs/external/bootstrap/glyphicons.css">

  <link rel="stylesheet" href="main.css">

  <script src="../libs/sha1.js"></script>
  <script src="../libs/oauth.js"></script>
  <script src="../libs/twitter.js"></script>

  <script src="../libs/utils.js"></script>
  <script src="../libs/nicoapi.js"></script>
  <script src="const.js"></script>
  <script src="config.js"></script>
  <script src="comm.js"></script>
  <script src="datastructure.js"></script>
  <script src="main.js"></script>
  <script src="mylist.js"></script>
  <script src="request.js"></script>
  <script src="stock.js"></script>
  <script src="comment.js"></script>
  <script src="history.js"></script>
  <script src="talker.js"></script>
  <script src="tweet.js"></script>
</head>
<body style="overflow:hidden;">
<header id="header" class="header">
  <nav class="navbar bg-header-toolbar">
    <div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups">
      <div class="btn-group btn-group-sm mr-2" role="group" aria-label="Button group with nested dropdown">
        <div class="btn-group" role="group">
          <button id="btnGroupDrop1" type="button" class="btn btn-sm btn-outline-secondary dropdown-toggle"
                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <img id="icon-thumbnail" src="../icons/icon-16.png" style="width:16px; height:16px;">
          </button>
          <div class="dropdown-menu" aria-labelledby="btnGroupDrop1">
            <!--
            <a id="connect-live" class="dropdown-item" href="#">放送IDを入力して接続</a>
            <div class="dropdown-divider"></div>
            -->
            <a id="mylist-manager" class="dropdown-item" href="#">マイリストマネージャー</a>
            <a id="save-comment" class="dropdown-item" href="#">コメントをファイルに保存</a>
            <a id="open-settings" class="dropdown-item" href="#">オプション</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="#" data-toggle="modal" data-target="#aboutModal">About...</a>
          </div>
        </div>
      </div>
      <div class="btn-group btn-group-sm mr-2" role="group" aria-label="First group">
        <select id="select-play-style" class="custom-select-sm">
          <option value="0">手動再生(順次)</option>
          <option value="1">手動再生(ランダム)</option>
          <option value="2">自動再生(順次)</option>
          <option value="3">自動再生(ランダム)</option>
        </select>
      </div>
      <div class="btn-group btn-group-sm mr-2" role="group" aria-label="Second group">
        <button type="button" class="btn btn-sm btn-outline-primary">
          <span class="glyphicon glyphicon-play"></span>次を再生
        </button>
        <button type="button" class="btn btn-sm btn-outline-danger">
          <span class="glyphicon glyphicon-stop"></span>再生停止
        </button>
        <button type="button" class="btn btn-sm btn-outline-secondary" title="サウンドオンリーを切り替えします。">
          <span class="glyphicon glyphicon-volume-up"></span>S/O
        </button>
      </div>
      <label class="custom-control custom-checkbox" style="padding-top: 0.5rem;">
        <input id="request-enabled" type="checkbox" class="custom-control-input">
        <span class="custom-control-indicator" style="top: 0.5rem;"></span>
        <span class="custom-control-description" style="font-size: 0.875rem;">リクエスト許可</span>
      </label>

    </div>
  </nav>

  <!------------ タブ名 ------------>
  <ul class="nav nav-tabs" role="tablist">
    <li class="nav-item">
      <a class="nav-link" data-toggle="tab" href="#tab-request" role="tab">
        リクエスト
        <span id="number-of-requests" class="badge badge-secondary">0</span>
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link" data-toggle="tab" href="#tab-stock" role="tab">
        ストック
        <span id="number-of-stocks" class="badge badge-secondary">0</span>
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link" data-toggle="tab" href="#tab-comment" role="tab">コメント</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" data-toggle="tab" href="#tab-history" role="tab">再生履歴</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" data-toggle="tab" href="#tab-debug" role="tab">デバッグ</a>
    </li>
  </ul>
</header>

<!-- タブの内容 -->
<div class="tab-content">
  <!-- リクエスト ------------------------------------------------------------------------------------------------->
  <div class="tab-pane" id="tab-request" role="tabpanel">
    <div class="container-fluid">
      <div class="form-inline">
        <div class="btn-group" style="margin-right:2px;">
          <button id="btn-shuffle-request" type="button" class="btn btn-outline-primary btn-sm">シャッフル</button>
          <button type="button" class="btn btn-outline-primary btn-sm dropdown-toggle dropdown-toggle-split"
                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
          <div class="dropdown-menu">
            <a id="menu-sort-by-comment-no" class="dropdown-item" href="#"><span
                    class="glyphicon glyphicon-sort-by-order"></span> コメント番号順に並べ替え</a>
            <!--
            <a id="comprstockests" class="dropdown-item" href="#"><span class="glyphicon glyphicon-compressed"></span> 重複リクエストを圧縮</a>
            -->
            <div class="dropdown-divider"></div>
            <a id="menu-remove-all-requests" class="dropdown-item" href="#"><span
                    class="glyphicon glyphicon-trash"></span> リクエストを全て削除</a>
          </div>
        </div>
        <div class="input-group input-group-sm" style="flex:1;">
          <input id="txt-request-video-id" type="text" class="form-control" placeholder="Video IDs..."
                 aria-describedby="basic-addon1">
          <span class="input-group-btn">
            <button id="btn-add-request" class="btn btn-outline-primary" type="button">追加</button>
          </span>
        </div>
        <span id="total-request-time" style="margin-left:4px;">0分00秒</span>
      </div>
    </div>

    <div class="progress" style="position:fixed; left:0; right:0; z-index:2;">
      <div id="request-progress"
           class="progress-bar progress-bar-animated progress-bar-striped bg-success"
           role="progressbar" style="display:none; width: 100%; text-align:left;">
      </div>
    </div>

    <!-- リクエストの一覧表示 -->
    <div id="request-view" style="width:100%; overflow-y: auto;">
      <table id="request-table" class="table table-hover video-list">
        <tbody id="request-table-body">
        </tbody>
      </table>
    </div>
  </div>

  <!-- ストック ------------------------------------------------------------------------------------------------------>
  <div class="tab-pane" id="tab-stock" role="tabpanel">
    <div class="container-fluid">
      <div class="form-inline">
        <div class="btn-group" style="margin-right:2px;">
          <button id="btn-shuffle-stock" type="button" class="btn btn-outline-primary btn-sm">シャッフル</button>
          <button type="button" class="btn btn-outline-primary btn-sm dropdown-toggle dropdown-toggle-split"
                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
          <div class="dropdown-menu">

            <div class="dropdown-submenu">
              <a class="dropdown-item" href="#"><span
                      class="glyphicon glyphicon-sort-by-attributes"></span> 昇順</a>
              <div id="stock-sort-ascending-order" class="dropdown-menu">
                <a class="dropdown-item" href="#play">再生数</a>
                <a class="dropdown-item" href="#comment">コメント数</a>
                <a class="dropdown-item" href="#mylist">マイリスト数</a>
                <a class="dropdown-item" href="#length">再生時間</a>
                <a class="dropdown-item" href="#date">投稿日時</a>
                <a class="dropdown-item" href="#mylistrate">マイリスト率</a>
                <a class="dropdown-item" href="#title">タイトル</a>
                <!--<a class="dropdown-item" href="#">マイリスト登録日時</a>-->
                <!--<a class="dropdown-item" href="#">広告ポイント</a>-->
                <a class="dropdown-item" href="#bitrate">ビットレート</a>
              </div>
            </div>
            <div class="dropdown-submenu">
              <a class="dropdown-item" href="#"><span
                      class="glyphicon glyphicon-sort-by-attributes-alt"></span> 降順</a>
              <div id="stock-sort-descending-order" class="dropdown-menu">
                <a class="dropdown-item" href="#play">再生数</a>
                <a class="dropdown-item" href="#comment">コメント数</a>
                <a class="dropdown-item" href="#mylist">マイリスト数</a>
                <a class="dropdown-item" href="#length">再生時間</a>
                <a class="dropdown-item" href="#date">投稿日時</a>
                <a class="dropdown-item" href="#mylistrate">マイリスト率</a>
                <a class="dropdown-item" href="#title">タイトル</a>
                <!--<a class="dropdown-item" href="#">マイリスト登録日時</a>-->
                <!--<a class="dropdown-item" href="#">広告ポイント</a>-->
                <a class="dropdown-item" href="#bitrate">ビットレート</a>
              </div>
            </div>

            <div class="dropdown-divider"></div>
            <a id="menu-remove-played" class="dropdown-item" href="#"><span
                    class="glyphicon glyphicon-trash"></span> 再生済みを削除</a>
            <a id="menu-remove-all-stock" class="dropdown-item" href="#"><span
                    class="glyphicon glyphicon-trash"></span> ストックを全て削除</a>
          </div>
        </div>
        <div class="btn-group" title="マイリストから動画を追加します。">
          <button type="button" class="btn btn-outline-primary btn-sm dropdown-toggle" style="margin-right:2px;"
                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            マイリスト
          </button>
          <div id="menu-stock-mylist" class="dropdown-menu" style="max-height:200px; overflow-y:auto;">
            <a class="dropdown-item" href="#" nico_grp_id="deflist">とりあえずマイリスト</a>
            <div class="dropdown-divider"></div>
          </div>
        </div>
        <div class="input-group input-group-sm" style="flex:1;">
          <input id="txt-stock-video-id" type="text" class="form-control" placeholder="Video IDs..."
                 aria-describedby="basic-addon1">
          <span class="input-group-btn">
            <button id="btn-add-stock" class="btn btn-outline-primary" type="button">追加</button>
          </span>
        </div>
        <span id="total-stock-time" style="margin-left:4px;">0分00秒</span>
      </div>
    </div>

    <div class="progress" style="position:fixed; left:0; right:0; z-index:2;">
      <div id="stock-progress"
           class="progress-bar progress-bar-animated progress-bar-striped bg-success"
           role="progressbar" style="display:none; width: 100%; text-align:left;">
      </div>
    </div>

    <div id="stock-view" style="width:100%; overflow-y: auto;">
      <table id="stock-table" class="table table-hover video-list">
        <tbody id="stock-table-body">
        </tbody>
      </table>
    </div>
  </div>

  <!-- コメント -->
  <div class="tab-pane" id="tab-comment" role="tabpanel">
    <div class="mr-2 ml-2" style="display:flex; margin-top: 4px;">
      <div class="combobox mr-1">
        <input id="mailTextBox" class="form-control" name="timebox" maxlength="1024" placeholder="コマンド..."
               style="padding: 0rem 0.75rem;">
        <select id="mailEditableBox" class="custom-select">
          <option value="">
          <option value="">--- 放送者 ---
          <option value="se1">se1
          <option value="se2">se2
          <option value="hidden">hidden
          <option value="">--- 通常 ---
          <option value="cyan big">cyan big
          <option value="shita">shita
          <option value="green shita small">green shita small
          <option value="orange">orange
          <option value="">--- プレミアム ---
          <option value="marineblue">marineblue
          <option value="passionorange">passionorange
          <option value="elementalgreen ue">elementalgreen ue
          <option value="truered shita small">truered shita small
          <option value="niconicowhite big">niconicowhite big
        </select>
      </div>

      <div class="input-group input-group-sm" style="flex:1;">
        <input id="txt-input-comment" class="form-control" name="comment" maxlength="1024"
               autocomplete="on" list="comment-autocomplete"
               placeholder="コメントを入力してください...">
        <span class="input-group-addon" title="放送主が視聴者コメントをする場合にチェックを入れてください。">
          <input id="chk-listener-comment" type="checkbox" aria-label="下コメ用チェックボックス">
        </span>
        <span class="input-group-btn">
          <button id="btn-send-comment" class="btn btn-outline-primary" type="button">送信</button>
        </span>
      </div>
      <datalist id="comment-autocomplete">
      </datalist>
    </div>

    <div id="comment-view" style="width:100%; overflow-y: auto; padding: 0.3em;">
      <table id="comment-table">
      </table>
    </div>
  </div>

  <!-- 再生履歴 -->
  <div class="tab-pane" id="tab-history" role="tabpanel">
    <div style="display:flex; padding: 0px 2px 0px 2px;">
      <select id="select-history-view" class="custom-select">
        <option value="0">テキスト表示</option>
        <option value="1">詳細表示</option>
      </select>
      <span style="flex: 1;"></span>
      <button id="btn-clean-history" class="btn btn-sm btn-outline-primary" type="button">消去</button>
    </div>
    <textarea id="history-box-text" style="width:100%;" contextmenu="history-copy-video-id"></textarea>
    <div id="history-view" style="width:100%; overflow-y: auto;">
      <table id="history-table" class="table table-hover video-list">
        <tbody id="history-table-body">
        </tbody>
      </table>
    </div>
    <menu type="context" id="history-copy-video-id">
      <menuitem id="copy-history-text" label="選択範囲の動画IDをコピー"></menuitem>
    </menu>
  </div>

  <!-- デバッグ -->
  <div class="tab-pane" id="tab-debug" role="tabpanel">
    Debug
    <textarea id="debug" style="width:100%; height:10em;"></textarea>
  </div>
</div>

<footer id="footer" class="footer p-1">
  <div id="my-alert" style="left:0; right:0; display:none;"
       class="alert alert-warning my-alert" role="alert">
    <span class="glyphicon glyphicon-warning-sign"></span>
    <span id="my-alert-message"></span>
  </div>
  <div style="display:flex;">
    <div id="statusbar-progressbar" class="progress_2" style="position:fixed; width:200px;">
      <div id="statusbar-progressbar-gage"
           class="progress-bar progress-bar-striped progress-bar-animated bg-progressbar-default active"
           role="progressbar"
           aria-valuenow="0" aria-valuemin="0"
           aria-valuemax="100" style="width: 0%">
      </div>
    </div>
    <span id="statusbar-titletext" class="text-gray-dark"></span>
    <span id="statusbar-video-remain" class="ml-1"></span>
    <span style="flex:1"></span>
    <span class="mr-2">来 <span id="number-of-listeners">0</span></span>
    <span id="live-progress" class="pl-2 mr-1" style="border-left: 1px outset #4b5257;">0:00</span>
  </div>
</footer>


<!-- サムネイル表示 -->
<iframe id="iframe-thumbnail" width="312" height="0" src="about:blank" scrolling="no"
        style="display:none; opacity:0; border:solid 1px #CCC;float:left;position:fixed;bottom:30px;left:25px;"
        frameborder="0"></iframe>


<!-- Aboutダイアログ -->
<div class="modal fade" id="aboutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
     aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title"><img src="../icons/icon-32.png" class="mr-2"><span id="aboutModalTitle">NicoLive Helper X</span>
        </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div>
          Developed by amano.
        </div>
        <br>
        <div>
          Contact:<br>
          <a href="http://com.nicovideo.jp/community/co105163" target="_blank" class="ml-4">http://com.nicovideo.jp/community/co105163</a>
        </div>
        <div>
          Donation:<br>
          <a href="https://gumroad.com/l/TXFz" target="_blank" class="ml-4">Gumroad</a>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<!-- 動画情報のテンプレート -->
<template id="template-video-info">
  <tr class="nico-video-row" style="border-bottom: 1px solid gray;">
    <td class="nico-index">#1<br>C#1<br>+0:00</td>
    <td>
      <a class="nico-link" href="#" target="_blank">
        <div style="position:relative; float:left; margin-right:6px;">
          <img class="nico-thumbnail" src="">
          <span class="nico-bitrate"></span>
        </div>
      </a>
      <div class="nico-title"></div>
      <div class="nico-video-prop"></div>
      <hr>
      <div class="nico-description"></div>
      <hr>
      <div class="nico-tags"></div>
      <div class="btn-toolbar" style="margin-top:1px;" role="toolbar" aria-label="Toolbar with button groups">
        <div class="btn-group mr-2" role="group" aria-label="First group">
          <button type="button" class="btn btn-outline-primary btn-sm" function="play">
            <span class="glyphicon glyphicon-play"></span> 再生
          </button>
          <button type="button" class="btn btn-outline-primary btn-sm" function="move_up">
            <span class="glyphicon glyphicon-arrow-up"></span>
          </button>
          <button type="button" class="btn btn-outline-primary btn-sm" function="move_down">
            <span class="glyphicon glyphicon-arrow-down"></span>
          </button>
          <button type="button" class="btn btn-outline-primary btn-sm" function="prepare">
            <span class="glyphicon glyphicon-import"></span> 先読み
          </button>
        </div>
        <div class="btn-group mr-2" role="group" aria-label="Second group">
          <button type="button" class="btn btn-outline-secondary btn-sm" function="move_top">
            <span class="glyphicon glyphicon-arrow-up"></span>
            <span class="glyphicon glyphicon-arrow-up"></span>
          </button>
          <button type="button" class="btn btn-outline-secondary btn-sm" function="move_bottom">
            <span class="glyphicon glyphicon-arrow-down"></span>
            <span class="glyphicon glyphicon-arrow-down"></span>
          </button>
        </div>
        <div class="btn-group" role="group" aria-label="Third group">
          <button type="button" class="btn btn-outline-danger btn-sm" function="remove">
            <span class="glyphicon glyphicon-remove"></span> 削除
          </button>
        </div>
      </div>
    </td>
  </tr>
</template>

</body>
</html>
